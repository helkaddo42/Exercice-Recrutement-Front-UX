{"ast":null,"code":"var _jsxFileName = \"/Users/hicham/Desktop/tictactrip_exercice/src/Home/MainForm/MainForm.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport main from './mainForm.module.css';\nimport RigthContainers from './BlockRight/blockRight';\nimport LeftContainers from './BlockLeft/blockLeft';\n\nfunction MainForm() {\n  const [displayCity, setDisplayCity] = useState(false);\n  const [fiveCity, setfiveCity] = useState([]);\n  const [suggestionCity, setSuggestionCity] = useState([]);\n  const [cityFrom, setCityFrom] = useState([]);\n  const [cityTo, setCityTo] = useState([]);\n  const [depart, setDepart] = useState('');\n  const [arriver, setArriver] = useState('');\n  const [idInput, setIdInput] = useState('');\n\n  const PopCity = e => {\n    setfiveCity([]);\n    setSuggestionCity([]);\n    setIdInput(e.target.id);\n    axios.get(`https://api.comparatrip.eu/cities/popular/5`).then(response => {\n      const cityName = response.data.map(city => {\n        return city.unique_name;\n      });\n      setfiveCity(cityName);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const suggestion = e => {\n    const id = e.target.id;\n    id === 'depart' ? setDepart(e.target.value) : setArriver(e.target.value);\n    setCityFrom([]);\n    setCityTo([]);\n    axios.get(`https://api.comparatrip.eu/cities/autocomplete/?q=${e.target.value}`).then(response => {\n      const cityChoise = response.data.map(city => {\n        return city.unique_name;\n      });\n      setSuggestionCity(cityChoise);\n      setIdInput(id);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const popularTo = () => {\n    if (arriver !== '' && cityFrom.length === 0) {\n      // setCityFrom([])\n      axios.get(`https://api.comparatrip.eu/cities/popular/to/${arriver}/5`).then(response => {\n        const city = response.data.map(value => {\n          return value.unique_name;\n        });\n        setCityTo(city);\n      });\n    }\n  };\n\n  const popularFrom = () => {\n    if (depart !== '' && cityTo.length === 0) {\n      // setCityTo([])\n      axios.get(`https://api.comparatrip.eu/cities/popular/from/${depart}/5`).then(response => {\n        const city = response.data.map(value => {\n          return value.unique_name;\n        });\n        setCityFrom(city);\n      });\n    }\n  };\n\n  const From = /*#__PURE__*/React.createElement(\"ul\", {\n    className: main.Ul_F_T,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 22\n    }\n  }, cityFrom.map(from => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: main.Li_F_T,\n      key: from,\n      onClick: () => setArriver(from),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 54\n      }\n    }, \" \", from, \" \");\n  }));\n  const To = /*#__PURE__*/React.createElement(\"ul\", {\n    className: main.Ul_F_T,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 18\n    }\n  }, cityTo.map(to => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: main.Li_F_T,\n      key: to,\n      onClick: () => setDepart(to),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 46\n      }\n    }, \" \", to, \" \");\n  }));\n  const choiseCity = /*#__PURE__*/React.createElement(\"ul\", {\n    className: main.Ul,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 26\n    }\n  }, suggestionCity.map(choise => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: main.Li,\n      key: choise,\n      onClick: idInput === 'depart' ? () => setDepart(choise) : () => setArriver(choise),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, choise, \" \");\n  }));\n  const cityFive = /*#__PURE__*/React.createElement(\"ul\", {\n    className: main.Ul,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 26\n    }\n  }, fiveCity.map(city => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: main.Li,\n      key: city,\n      onClick: idInput === 'depart' ? () => setDepart(city) : () => setArriver(city),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, city, \" \");\n  }));\n  const showCity = suggestionCity.length === 0 && cityFrom.length === 0 && cityTo.length === 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", cityFive, \" \") : /*#__PURE__*/React.createElement(React.Fragment, null, \" \", choiseCity, \" \");\n  let blockRight = displayCity === false ? /*#__PURE__*/React.createElement(RigthContainers, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 46\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: main.blockUl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 68\n    }\n  }, showCity);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: main.mainForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LeftContainers, {\n    popularTo: popularTo,\n    PopCity: PopCity,\n    suggestion: suggestion,\n    popularFrom: popularFrom,\n    display: () => setDisplayCity(true),\n    depart: depart,\n    arriver: arriver,\n    To: To,\n    From: From,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), blockRight);\n}\n\nexport default MainForm;","map":{"version":3,"sources":["/Users/hicham/Desktop/tictactrip_exercice/src/Home/MainForm/MainForm.jsx"],"names":["React","useState","axios","main","RigthContainers","LeftContainers","MainForm","displayCity","setDisplayCity","fiveCity","setfiveCity","suggestionCity","setSuggestionCity","cityFrom","setCityFrom","cityTo","setCityTo","depart","setDepart","arriver","setArriver","idInput","setIdInput","PopCity","e","target","id","get","then","response","cityName","data","map","city","unique_name","catch","err","console","log","suggestion","value","cityChoise","popularTo","length","popularFrom","From","Ul_F_T","from","Li_F_T","To","to","choiseCity","Ul","choise","Li","cityFive","showCity","blockRight","blockUl","mainForm"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\nimport axios from 'axios';\nimport main from './mainForm.module.css';\nimport RigthContainers from './BlockRight/blockRight';\nimport LeftContainers from './BlockLeft/blockLeft';\n\nfunction MainForm() {\n    const[displayCity, setDisplayCity] = useState(false)\n    const[fiveCity, setfiveCity] = useState([])\n    const[suggestionCity , setSuggestionCity] = useState([])\n    const[cityFrom, setCityFrom] = useState([])\n    const[cityTo, setCityTo] = useState([])\n    const[depart, setDepart] = useState('')\n    const[arriver, setArriver] = useState('')\n    const[idInput, setIdInput] = useState('')\n\n\n    const PopCity = (e) =>{\n        setfiveCity([])\n        setSuggestionCity([])\n            setIdInput(e.target.id)\n\n                axios.get(`https://api.comparatrip.eu/cities/popular/5`).then((response)=>{\n                    const cityName =  response.data.map(city =>{ return  city.unique_name})\n                    setfiveCity(cityName) \n                }).catch((err)=>{ console.log(err) })  \n        }\n\n    const suggestion = (e) =>{\n        const id = e.target.id\n        id === 'depart' ? setDepart(e.target.value) : setArriver(e.target.value);\n            setCityFrom([]) ;\n            setCityTo([]);\n            axios.get(`https://api.comparatrip.eu/cities/autocomplete/?q=${e.target.value}`).then((response)=>{\n                const cityChoise = response.data.map(city =>{ return  city.unique_name})\n                setSuggestionCity(cityChoise) \n                setIdInput(id)\n            }).catch((err)=>{ console.log(err) })\n\n        }     \n\n    const popularTo =()=>{\n        if(arriver !== '' && cityFrom.length === 0  ){\n            // setCityFrom([])\n            axios.get(`https://api.comparatrip.eu/cities/popular/to/${arriver}/5`).then(response =>{\n                const city = response.data.map(value =>{ return value.unique_name})\n                setCityTo(city)\n            })\n        }\n    }\n\n    const popularFrom =()=>{\n        if(depart !== '' && cityTo.length === 0  ){\n            // setCityTo([])\n            axios.get(`https://api.comparatrip.eu/cities/popular/from/${depart}/5`).then(response =>{\n                const city =  response.data.map(value =>{ return value.unique_name})\n                setCityFrom(city)\n            })\n        }\n    }\n\n    const From =    (<ul className={main.Ul_F_T}> \n                    {cityFrom.map(from => { return ( <li className={main.Li_F_T} key={from} onClick={()=>setArriver(from)}> {from} </li>)})}\n                    </ul>)\n    \n    const To =  (<ul className={main.Ul_F_T}> \n                {cityTo.map(to => { return ( <li className={main.Li_F_T} key={to} onClick={()=>setDepart(to)}> {to} </li>)})}\n                </ul>)\n\n    const choiseCity =  (<ul className={main.Ul}>  \n                        {suggestionCity.map(choise =>{ return( \n                        <li className={main.Li} key={choise} onClick={idInput === 'depart' ?()=>setDepart(choise):()=>setArriver(choise)} >{choise} </li>) })} \n                        </ul>)\n    \n    const cityFive =    (<ul className={main.Ul}>\n                        {fiveCity.map(city => {return (\n                        <li className={main.Li} key={city} onClick={idInput === 'depart' ? ()=>setDepart(city) : ()=>setArriver(city)}>{city} </li>)})}\n                        </ul>)\n\n\n    const showCity =   suggestionCity.length === 0 && cityFrom.length === 0 && cityTo.length === 0 ? <> {cityFive} </>  : <> {choiseCity} </>\n    \n    let blockRight = displayCity === false ? <RigthContainers/> : (<div className={main.blockUl}>{showCity}</div>) \n        \n    return (\n        <div className={main.mainForm}>\n            <LeftContainers\n                popularTo={popularTo}\n                PopCity={PopCity}\n                suggestion={suggestion}\n                popularFrom={popularFrom}\n                display={()=>setDisplayCity(true)}\n                depart={depart}\n                arriver={arriver}\n                To={To}\n                From={From}/>\n            {blockRight}     \n        </div>\n    )\n}\n\nexport default MainForm"]},"metadata":{},"sourceType":"module"}