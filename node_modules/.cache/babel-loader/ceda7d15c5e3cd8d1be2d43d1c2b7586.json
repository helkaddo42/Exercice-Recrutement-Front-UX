{"ast":null,"code":"var _jsxFileName = \"/Users/hicham/Desktop/Exercice-Recrutement-Front-UX/src/Home/MainForm/MainForm.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport main from './mainForm.module.css';\nimport RigthContainers from './BlockRight/blockRight';\nimport LeftContainers from './BlockLeft/blockLeft';\n\nfunction MainForm() {\n  const [displayCity, setDisplayCity] = useState(false);\n  const [fiveCity, setfiveCity] = useState([]);\n  const [suggestionCity, setSuggestionCity] = useState([]);\n  const [cityFrom, setCityFrom] = useState([]);\n  const [cityTo, setCityTo] = useState([]);\n  const [depart, setDepart] = useState('');\n  const [arriver, setArriver] = useState('');\n  const [idInput, setIdInput] = useState('');\n  const [vile, setVille] = useState([]);\n\n  const PopCity = e => {\n    // setfiveCity([])\n    // setSuggestionCity([])\n    setIdInput(e.target.id);\n    axios.get(`https://api.comparatrip.eu/cities/popular/5`).then(response => {\n      const valueResponse = response.data;\n      const cityName = valueResponse.map(city => {\n        return city.unique_name;\n      });\n      setVille(cityName);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const suggestion = e => {\n    const id = e.target.id; // setCityTo([])\n\n    id === 'depart' ? setDepart(e.target.value) : setArriver(e.target.value);\n    axios.get(`https://api.comparatrip.eu/cities/autocomplete/?q=${e.target.value}`).then(response => {\n      const valueResponse = response.data;\n      const cityChoise = valueResponse.map(city => {\n        return city.unique_name;\n      });\n      setVille(cityChoise);\n      setIdInput(id);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const popularTo = e => {\n    if (arriver !== '' && vile.length === 0) {\n      // setCityFrom([])\n      axios.get(`https://api.comparatrip.eu/cities/popular/to/${arriver}/5`).then(response => {\n        const from = response.data;\n        const city = from.map(value => {\n          return value.unique_name;\n        });\n        setVille(city);\n      });\n    }\n  };\n\n  const popularFrom = e => {\n    if (depart !== '' && vile.length === 0) {\n      // setCityTo([])\n      axios.get(`https://api.comparatrip.eu/cities/popular/from/${depart}/5`).then(response => {\n        const from = response.data;\n        const city = from.map(value => {\n          return value.unique_name;\n        });\n        setVille(city);\n      });\n    }\n  };\n\n  let blockRight = displayCity === false ? /*#__PURE__*/React.createElement(RigthContainers, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 46\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: main.blockUl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: main.Ul,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"  \", vile.map(choise => {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: main.Li,\n      key: choise,\n      onClick: () => {\n        idInput === 'depart' ? setDepart(choise) : setArriver(choise);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 66\n      }\n    }, choise, \" \");\n  }), \" \"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: main.mainForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LeftContainers, {\n    popularTo: popularTo,\n    PopCity: PopCity,\n    suggestion: suggestion,\n    popularFrom: popularFrom,\n    display: () => setDisplayCity(true),\n    depart: depart,\n    arriver: arriver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }), blockRight);\n}\n\nexport default MainForm;","map":{"version":3,"sources":["/Users/hicham/Desktop/Exercice-Recrutement-Front-UX/src/Home/MainForm/MainForm.jsx"],"names":["React","useState","axios","main","RigthContainers","LeftContainers","MainForm","displayCity","setDisplayCity","fiveCity","setfiveCity","suggestionCity","setSuggestionCity","cityFrom","setCityFrom","cityTo","setCityTo","depart","setDepart","arriver","setArriver","idInput","setIdInput","vile","setVille","PopCity","e","target","id","get","then","response","valueResponse","data","cityName","map","city","unique_name","catch","err","console","log","suggestion","value","cityChoise","popularTo","length","from","popularFrom","blockRight","blockUl","Ul","choise","Li","mainForm"],"mappings":"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","sourcesContent":["import React,{useState } from 'react';\nimport axios from 'axios';\nimport main from './mainForm.module.css';\nimport RigthContainers from './BlockRight/blockRight';\nimport LeftContainers from './BlockLeft/blockLeft';\n\nfunction MainForm() {\n    const[displayCity, setDisplayCity] = useState(false)\n    const[fiveCity, setfiveCity] = useState([])\n    const [suggestionCity , setSuggestionCity] = useState([])\n    const[cityFrom, setCityFrom] = useState([])\n    const[cityTo, setCityTo] = useState([])\n    const[depart, setDepart] = useState('')\n    const[arriver, setArriver] = useState('')\n    const[idInput, setIdInput] = useState('')\n\n    const [vile, setVille] = useState([]);\n\n    const PopCity = (e) =>{\n        // setfiveCity([])\n        // setSuggestionCity([])\n        setIdInput(e.target.id)\n        axios.get(`https://api.comparatrip.eu/cities/popular/5`).then((response)=>{\n            const valueResponse = response.data\n            const cityName = valueResponse.map(city =>{ return  city.unique_name})\n            setVille(cityName) \n        }).catch((err)=>{ console.log(err) })  \n    }\n\n    const suggestion = (e) =>{\n        const id = e.target.id\n        // setCityTo([])\n        id === 'depart' ?  setDepart(e.target.value) : setArriver(e.target.value)\n           \n        axios.get(`https://api.comparatrip.eu/cities/autocomplete/?q=${e.target.value}`).then((response)=>{\n            const valueResponse = response.data\n            const cityChoise = valueResponse.map(city =>{ return  city.unique_name})\n            setVille(cityChoise) \n            setIdInput(id)\n        }).catch((err)=>{ console.log(err) })\n    }\n\n    const popularTo =(e)=>{\n        if(arriver !== '' && vile.length === 0  ){\n            // setCityFrom([])\n            axios.get(`https://api.comparatrip.eu/cities/popular/to/${arriver}/5`).then(response =>{\n                const from = response.data\n                const city = from.map(value =>{ return value.unique_name})\n                setVille(city)\n            })\n        }\n    }\n\n    const popularFrom =(e)=>{\n        if(depart !== '' && vile.length === 0  ){\n            // setCityTo([])\n            axios.get(`https://api.comparatrip.eu/cities/popular/from/${depart}/5`).then(response =>{\n                const from = response.data\n                const city = from.map(value =>{ return value.unique_name})\n                setVille(city)\n            })\n        }\n    }\n \n    let blockRight = displayCity === false ? <RigthContainers/> : (\n    <div className={main.blockUl}>\n        \n        \n        <ul className={main.Ul}>  {vile.map(choise => { return ( <li className={main.Li} key={choise} onClick={()=> {idInput === 'depart' ? setDepart(choise) : setArriver(choise)}} >{choise} </li>) })} </ul>\n        \n        </div>) \n        \n    return (\n        <div className={main.mainForm}>\n            <LeftContainers\n                popularTo={popularTo}\n                PopCity={PopCity}\n                suggestion={suggestion}\n                popularFrom={popularFrom}\n                display={()=>setDisplayCity(true)}\n                depart={depart}\n                arriver={arriver}/>\n            {blockRight}     \n        </div>\n    )\n}\n\nexport default MainForm\n"]},"metadata":{},"sourceType":"module"}